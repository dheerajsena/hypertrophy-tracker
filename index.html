<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Full-Stack Fitness App</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg: #FFFFFF;
      --card-bg: #F8FAFC;
      --primary: #E53935;
      --text: #1F2937;
      --muted: #6B7280;
      --border: #E5E7EB;
      --radius: 10px;
      --shadow: rgba(0,0,0,0.05);
      --active-bg: rgba(229,57,53,0.1);
    }
    *, *::before, *::after { box-sizing: border-box; margin:0; padding:0 }
    body { font-family:'Inter',sans-serif; background:var(--bg); color:var(--text); }
    header { background:var(--card-bg); padding:20px; text-align:center; box-shadow:0 2px 4px var(--shadow); }
    header h1 { color:var(--primary); font-size:1.75rem; margin-bottom:4px; }
    header p { color:var(--muted); font-size:0.95rem; }
    nav { display:flex; overflow-x:auto; background:var(--bg); padding:10px 0; border-bottom:1px solid var(--border); }
    nav button { flex:0 0 auto; background:none; border:none; padding:8px 16px; font-size:0.9rem; color:var(--muted); cursor:pointer; border-radius:var(--radius) var(--radius) 0 0; transition:background .2s,color .2s; }
    nav button.active { background:var(--active-bg); color:var(--primary); }
    main { max-width:480px; margin:0 auto; padding:16px; }
    .card { background:var(--card-bg); border-radius:var(--radius); box-shadow:0 2px 8px var(--shadow); margin-bottom:16px; padding:16px; }
    h2 { font-size:1.1rem; margin-bottom:12px; }
    .tab { display:none; }
    .tab.active { display:block; }
    .btn { display:inline-block; width:100%; padding:12px; background:var(--primary); color:#fff; border:none; border-radius:var(--radius); font-size:1rem; cursor:pointer; }
    .btn + .btn { margin-top:8px; }
    .form-row { display:flex; gap:8px; align-items:center; margin-bottom:12px; }
    .form-row label { flex:0 0 100px; color:var(--muted); font-size:0.9rem; }
    .form-row input, .form-row select { flex:1; padding:10px; border:1px solid var(--border); border-radius:6px; font-size:0.9rem; }
    /* Metrics grid */
    .metrics-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:12px; }
    .metrics-item { background:#fff; border:1px solid var(--border); border-radius:var(--radius); padding:12px; text-align:center; }
    .metrics-item span { display:block; font-size:1.25rem; font-weight:600; color:var(--primary); margin-top:4px; }
    /* Workout cards */
    .workout-card .form-row:last-child { margin-bottom:4px; }
    /* Progress photos */
    .photo-thumb { width:60px; height:60px; object-fit:cover; margin:4px; border-radius:4px; border:1px solid var(--border); }
    @media(max-width:480px) {
      header h1 { font-size:1.5rem; }
      nav button { padding:6px 12px; font-size:0.8rem; }
      .form-row label { flex:0 0 90px; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Fitness App</h1>
    <p id="today-name">Today is ...</p>
  </header>
  <nav>
    <button data-tab="dashboard" class="active">Dashboard</button>
    <button data-tab="workout">Workout</button>
    <button data-tab="sports">Sports</button>
    <button data-tab="plan">Plan</button>
    <button data-tab="nutrition">Nutrition</button>
    <button data-tab="recovery">Recovery</button>
    <button data-tab="tracking">Tracking</button>
    <button data-tab="progress">Progress</button>
  </nav>
  <main>
    <!-- Dashboard -->
    <section id="dashboard" class="tab active">
      <div class="card">
        <h2>Body Metrics</h2>
        <div class="metrics-grid">
          <div class="metrics-item"><label>Weight</label><span id="met-weight">52.4kg</span></div>
          <div class="metrics-item"><label>Body Fat</label><span id="met-fat">9.7%</span></div>
          <div class="metrics-item"><label>Lean Mass</label><span id="met-lean">47.3kg</span></div>
          <div class="metrics-item"><label>Goal</label><span id="met-goal">+6kg</span></div>
          <div class="metrics-item"><label>Score</label><span id="met-score">0%</span></div>
        </div>
        <h2>Edit Metrics</h2>
        <div class="form-row"><label>Weight</label><input id="input-weight" type="number" step="0.1" /></div>
        <div class="form-row"><label>Body Fat%</label><input id="input-fat" type="number" step="0.1" /></div>
        <div class="form-row"><label>Lean Mass</label><input id="input-lean" type="number" step="0.1" /></div>
        <button class="btn" id="save-metrics">Save Metrics</button>
      </div>
      <div class="card">
        <h2>Quote of the Day</h2>
        <p id="daily-quote" style="font-style:italic;color:var(--muted)"></p>
      </div>
    </section>

    <!-- Workout -->
    <section id="workout" class="tab">
      <div id="workout-list"></div>
      <button class="btn" id="toggle-manual">Add Custom Exercise</button>
      <div id="manual-form" style="display:none; margin-top:12px;">
        <div class="form-row"><label>Name</label><input id="man-name" placeholder="Exercise name" /></div>
        <div class="form-row"><label>Sets/Reps</label><input id="man-rep" placeholder="e.g. 3x12" /></div>
        <div class="form-row"><label>Weight</label><input id="man-wt" placeholder="kg" /></div>
        <button class="btn" id="add-manual">Add Exercise</button>
      </div>
      <button class="btn" id="submit-workout">Submit Workout</button>
    </section>

    <!-- Sports -->
    <section id="sports" class="tab">
      <div class="card">
        <h2>Log Sport Session</h2>
        <div class="form-row"><label>Name</label><input id="sport-name" placeholder="e.g. Basketball" /></div>
        <div class="form-row"><label>Duration</label><input id="sport-duration" type="number" placeholder="minutes" /></div>
        <div class="form-row"><label>Intensity</label><select id="sport-intensity"><option>Low</option><option>Medium</option><option>High</option></select></div>
        <button class="btn" id="add-sport">Add Sport</button>
        <ul id="sport-list" style="margin-top:12px;"></ul>
      </div>
    </section>

    <!-- Plan -->
    <section id="plan" class="tab">
      <div class="card"><h2>Push Day</h2><table><thead><tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Tempo</th></tr></thead><tbody id="push-plan"></tbody></table></div>
      <div class="card"><h2>Pull Day</h2><table><thead><tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Tempo</th></tr></thead><tbody id="pull-plan"></tbody></table></div>
      <div class="card"><h2>Leg Day</h2><table><thead><tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Tempo</th></tr></thead><tbody id="leg-plan"></tbody></table></div>
      <div class="card"><h2>Volume Day</h2><table><thead><tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Skipped</th></tr></thead><tbody id="vol-plan"></tbody></table></div>
    </section>

    <!-- Nutrition -->
    <section id="nutrition" class="tab">
      <div class="card">
        <h2>Macros Targets</h2>
        <ul><li>Calories: 2400–2600 kcal</li><li>Protein: 110g</li><li>Carbs: 300–350g</li><li>Fats: 60–70g</li></ul>
      </div>
      <div class="card">
        <h2>Track Today’s Intake</h2>
        <div class="form-row"><label>Protein (g)</label><input id="intake-prot" type="number" /></div>
        <div class="form-row"><label>Carbs (g)</label><input id="intake-carb" type="number" /></div>
        <div class="form-row"><label>Fats (g)</label><input id="intake-fat" type="number" /></div>
        <button class="btn" id="save-intake">Save Intake</button>
      </div>
      <div class="card"><h2>Meal Ideas</h2><ul id="meal-ideas"></ul></div>
    </section>

    <!-- Recovery -->
    <section id="recovery" class="tab">
      <div class="card"><h2>Recovery Methods</h2><ul id="recovery-list"></ul></div>
    </section>

    <!-- Tracking -->
    <section id="tracking" class="tab">
      <div class="card"><h2>Tracking Cadence</h2><ul id="tracking-list"></ul></div>
    </section>

    <!-- Progress -->
    <section id="progress" class="tab">
      <div class="card">
        <h2>Progress Chart</h2>
        <select id="view-type"><option value="week">Week</option><option value="month">Month</option></select>
        <canvas id="progress-chart" style="margin-top:12px;"></canvas>
      </div>
      <div class="card">
        <h2>Photo & Measurements</h2>
        <div class="form-row"><label>Upload Photo</label><input type="file" id="photo-input" accept="image/*" /></div>
        <div class="form-row"><label>Chest (cm)</label><input id="meas-chest" type="number" /></div>
        <div class="form-row"><label>Waist (cm)</label><input id="meas-waist" type="number" /></div>
        <button class="btn" id="save-progress">Save Progress</button>
        <div id="photo-gallery" style="display:flex;flex-wrap:wrap;margin-top:8px;"></div>
        <ul id="meas-list" style="margin-top:8px;"></ul>
      </div>
    </section>
  </main>

  <script>
    // Init
    const today = new Date().toLocaleDateString('en-US',{weekday:'long'});
    document.getElementById('today-name').textContent = `Today is ${today}`;
    const logsKey='workoutLogs', sportsKey='sportsLogs', metricsKey='metrics';
    // Tab nav
    document.querySelectorAll('nav button').forEach(btn=>btn.addEventListener('click',()=>{
      document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      document.querySelectorAll('.tab').forEach(s=>s.classList.remove('active'));
      document.getElementById(btn.dataset.tab).classList.add('active');
    }));
    // Quotes
    const quotes=["Consistency is key.","Push harder today.","No excuses.","Be relentless."];
    document.getElementById('daily-quote').textContent = quotes[Math.floor(Math.random()*quotes.length)];
    // Load/save metrics
    function loadMetrics(){ const m=JSON.parse(localStorage.getItem(metricsKey)||'{}');
      ['weight','fat','lean'].forEach(k=>{ if(m[k]) document.getElementById(`met-${k}`).textContent=m[k]; document.getElementById(`input-${k}`).value=m[k]||''; });
    }
    document.getElementById('save-metrics').addEventListener('click',()=>{
      const m={ weight:document.getElementById('input-weight').value, fat:document.getElementById('input-fat').value, lean:document.getElementById('input-lean').value };
      localStorage.setItem(metricsKey,JSON.stringify(m)); loadMetrics(); alert('Metrics saved');
    });
    // Full plan
    const fullPlan={ Push:[['Incline Press',4,'10-12'],['OHP',4,'8-10']], Pull:[['Lat Pulldown',4,'10-12'],['Row',4,'10']], Leg:[['Squat',4,'8-10'],['RDL',4,'10-12']], Vol:[['Shoulder Press',4,'12'],['Curl',3,'12']] };
    function renderPlan(){['push','pull','leg','vol'].forEach(k=>{ const tbody=document.getElementById(`${k}-plan`); tbody.innerHTML=''; fullPlan[k.charAt(0).toUpperCase()+k.slice(1)].forEach(r=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${r[0]}</td><td>${r[1]}</td><td>${r[2]}</td><td></td>`; tbody.appendChild(tr);}); }); }
    // Workout rendering
    let manual=JSON.parse(localStorage.getItem('manual')||'{}');
    function renderWorkout(){ const list=document.getElementById('workout-list'); list.innerHTML='';
      const map={Monday:'Push',Tuesday:'Pull',Wednesday:'Vol',Thursday:'Leg',Friday:'Vol',Saturday:'Vol',Sunday:'Vol'};
      const key=map[today]||'Push';
      const arr=[...(manual[today]||[]), ...fullPlan[key]];
      arr.forEach((ex,i)=>{ const [name,sets,reps]=ex; const card=document.createElement('div'); card.className='card workout-card';
        card.innerHTML=`<h2>${name}</h2>
          <div class="form-row"><label>Sets/Reps</label><input id="rep-${i}" placeholder="${sets}x${reps}" /></div>
          <div class="form-row"><label>Weight</label><input id="wt-${i}" placeholder="kg" /></div>
          <div class="form-row"><label>Skipped</label><input type="checkbox" id="skip-${i}" /></div>`;
        list.appendChild(card);
      });
    }
    document.getElementById('toggle-manual').addEventListener('click',()=>{
      const f=document.getElementById('manual-form'); f.style.display=f.style.display==='block'?'none':'block';
    });
    document.getElementById('add-manual').addEventListener('click',()=>{
      const name=document.getElementById('man-name').value, rep=document.getElementById('man-rep').value;
      if(!manual[today]) manual[today]=[]; manual[today].push([name,'',rep]); localStorage.setItem('manual',JSON.stringify(manual)); renderWorkout();
    });
    function saveWorkout(){ const logs=JSON.parse(localStorage.getItem(logsKey)||'{}'); logs[today]=[];
      document.querySelectorAll('.workout-card').forEach((card,i)=>{
        const name=card.querySelector('h2').textContent;
        const reps=card.querySelector(`#rep-${i}`).value;
        const wt=card.querySelector(`#wt-${i}`).value;
        const skipped=card.querySelector(`#skip-${i}`).checked;
        logs[today].push({exercise:name,reps,weight:wt,skipped});
      }); localStorage.setItem(logsKey,JSON.stringify(logs)); computeScore(); alert('Workout saved'); }
    document.getElementById('submit-workout').addEventListener('click',saveWorkout);
    // Sports
    let sports=JSON.parse(localStorage.getItem(sportsKey)||'[]');
    function renderSports(){ const ul=document.getElementById('sport-list'); ul.innerHTML=''; sports.forEach(s=>{ const li=document.createElement('li'); li.textContent=`${s.name} - ${s.duration}m (${s.intensity})`; ul.appendChild(li); }); }
    document.getElementById('add-sport').addEventListener('click',()=>{ const s={name:document.getElementById('sport-name').value,duration:document.getElementById('sport-duration').value,intensity:document.getElementById('sport-intensity').value}; sports.push(s); localStorage.setItem(sportsKey,JSON.stringify(sports)); renderSports(); });
    // Nutrition
    document.getElementById('save-intake')?.addEventListener('click',()=>{ const ni={prot:document.getElementById('intake-prot').value,carb:document.getElementById('intake-carb').value,fat:document.getElementById('intake-fat').value}; localStorage.setItem('intake',JSON.stringify(ni)); alert('Intake saved'); });
    function renderNutrition(){ ['Breakfast:Whey+Banana','Lunch:Rice+Chicken','Snack:Paneer','Dinner:Roti+Sabzi'].forEach(m=>{ document.getElementById('meal-ideas').innerHTML+=`<li>${m}</li>`; }); }
    // Recovery & Tracking
    ['Sauna:2x/week','Foam Roll:Daily','Wall Angels:5min'].forEach(r=>{ document.getElementById('recovery-list').innerHTML+=`<li>${r}</li>`; });
    ['Weekly:Photos','Biweekly:Measure','Monthly:Scan','Daily:Log'].forEach(t=>{ document.getElementById('tracking-list').innerHTML+=`<li>${t}</li>`; });
    // Score
    function computeScore(){ const logs=JSON.parse(localStorage.getItem(logsKey)||'{}'); const ent=Object.entries(logs).slice(-7); let done=0, planned=0; ent.forEach(([d,arr])=>{ planned+=arr.length; done+=arr.filter(e=>!e.skipped).length; }); document.getElementById('met-score').textContent=(planned?Math.round(done/planned*100):0)+'%'; }
    // Progress
    let progressData=JSON.parse(localStorage.getItem('progress')||'{}');
    document.getElementById('save-progress').addEventListener('click',()=>{
      const p=progressData[today]||{photos:[],meas:[]};
      const fileInput=document.getElementById('photo-input');
      if(fileInput.files[0]){ const reader=new FileReader(); reader.onload=e=>{ p.photos.push(e.target.result); localStorage.setItem('progress',JSON.stringify(progressData)); renderProgress(); }; reader.readAsDataURL(fileInput.files[0]); }
      const meas={chest:document.getElementById('meas-chest').value,waist:document.getElementById('meas-waist').value};
      p.meas.push({date:today,...meas}); progressData[today]=p; localStorage.setItem('progress',JSON.stringify(progressData)); alert('Progress saved'); renderProgress();
    });
    function renderProgress(){ const p=progressData[today]||{photos:[],meas:[]}; document.getElementById('photo-gallery').innerHTML=''; p.photos.forEach(src=>{ const img=document.createElement('img'); img.src=src; img.className='photo-thumb'; document.getElementById('photo-gallery').appendChild(img); }); document.getElementById('meas-list').innerHTML=''; p.meas.forEach(m=>{ document.getElementById('meas-list').innerHTML+=`<li>${m.date}: Chest ${m.chest}cm, Waist ${m.waist}cm</li>`; }); }
    // Render chart
    function renderProgressChart(){ const logs=JSON.parse(localStorage.getItem(logsKey)||'{}'); const view=document.getElementById('view-type').value; const ent=Object.entries(logs).slice(-(view==='week'?7:30)); const labels=ent.map(e=>e[0]),data=ent.map(e=>e[1].length); const ctx=document.getElementById('progress-chart').getContext('2d'); new Chart(ctx,{type:'line',data:{labels,datasets:[{label:'Workouts',data,borderColor:'var(--primary)',fill:false}]},options:{scales:{y:{beginAtZero:true}}}}); }
    document.getElementById('view-type').addEventListener('change',renderProgressChart);
    // Initial
    loadMetrics(); renderDashboard(); renderWorkout(); renderSports(); renderPlan(); renderNutrition(); renderProgressChart(); renderProgress();
  </script>
</body>
</html>
